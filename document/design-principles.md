# 设计原则

## 开闭原则 The Open-Closed Principle（OCP）
***
+ 对拓展开放，对修改关闭；
+ 用抽象构建框架，用实现扩展细节；
+ 优点：提供软件系统的可复用性以及可维护性；

## 依赖倒置原则
***
+ 定义：
    + 高层模块不应依赖底层模块，两者都应该依赖其抽象；
    + 抽象不应该依赖细节；细节应该应该依赖抽象；
    + 针对接口编程，不要针对实现编程；
+ 优点：减少类之间的耦合性，提高系统稳定性，提高代码可读性和可维护性，降低修改程序所造成的风险；
+ 依赖倒置：面向对象设计的标志；

## 单一职责原则
***
+ 对于一个类，应该仅有一个引起它变化的原因；
+ 一个类/接口/方法只负责一项职责；
+ 优点：降低了类的复杂性、提高可读性，提高系统的可维护性、降低变更引起的风险；（易维护、易拓展、易复用、灵活多样）

## 接口隔离原则
***
+ 用多个专用接口实现，而不是用单一总接口；客户端不应该依赖不需要的接口；
+ 注意：
    + 一个类对一个类的依赖应该建立在最小的接口；
    + 建立单一接口，不要建立庞大臃肿的接口；
    + 尽量细化接口，接口的方法应该尽量少；
    + 注意适度原则；
+ 优点：符合高内聚低耦合的设计思想；让代码具有更好的可读性、可扩展性和可维护性；

## 迪米特原则（最少知道原则）
***
+ 如果两个类不彼此直接通信，那么这两个类就不应当发生直接的互相作用；若其中一个类需要调用另一个类的一个方法时，应该通过第三方转发；
+ 一个对象应该对其他对象保持最少的了解；
+ 优点：降低类与类自之间的耦合；

## 里氏替换原则
***
+ 定义：若一个类型为 T1 的对象 O1，都有类型为 T2 的对象 O2，使得在 T1 定义的程序 P 中在所有对象 O1 替换成 O2 时，
  程序 P 的行为没有发生变化，那么类型 T2 是类型 T1 的子类型；（子类替换父类）
+ 拓展：一个软件实体若适用一个父类，那么就一定适用于其子类；所有引用父类的地方都必须能透明地使用其子类的对象，子类对象能替换父类对象，而程序逻辑不变；
+ 引申意义：
    + 子类可以实现父类的抽象方法，但不能覆盖父类的非抽象方法；（子类可以拓展父类的功能，但不能改变父类原有的功能）
    + 子类中可以增加自己特有的方法；
    + 当子类的方法重载父类的方法时，方法前置条件（方法的入参）要比父类方法的输入参数更宽松；
    + 当子类的方法实现父类的方法时，方法的后置条件（方法的返回）要比父类更严格或相等；

+ 优点：
    + 约束继承泛滥，开闭原则的一种体现；
    + 加强程序的健壮性，同时变更时也可以做到非常好的兼容性，提高程序的维护性、扩展性；降低需求变更时的风险；

## 合成/聚合复用原则
***
+ 定义：尽量使用合成/聚合，尽量不要用类继承；
  + 合成：一种强的“拥有”关系；体现严格的部分和整体的关系，部分和整体的生命周期一致；例子：大雁-翅膀
  + 聚合：一种弱的“拥有”关系；体现 A 对象可以包含 B 对象，而 B 对象不是 A 对象的一部分；例子：大雁-雁群
+ 好处：有助于保持每个类被封装，并被集中在单个任务上；类和类继承层次会保持较小规模，并且为可控制的；